<!DOCTYPE html>
<!-- TODO: touch alert box
            catch exception
            auto completion g -> google y -> yahoo  youtube amazon  see alfred web search
            add System function such as Empty Trash, Show Trash, Quit, Log Out, Sleep, Restart, Shut Down
            menu box
            change theme
-->
<html lang="en">
    <head>
        <title>Mr. Carson - The Butler</title>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <style type="text/css">
            #output {
                border: 1px solid black;
                height:50px;
                width:500px;
                margin:50px 0px;
                padding:10px;
            }
        </style>
    </head>
    <body>
        <h1>Mr. Carson</h1>
        <div>Please enter your input:</div>
        <input id="input" type="text"><br>
        <!-- TODO: clear input box button -->	
        <div id="output"><div>
        
        <script type="text/javascript">
            jQuery('#input')
                .css({
                    'height':'50px',
                    'width':'300px'
                });
            jQuery(document)
                .on('keypress', function() {
                    // on carriage return
                    if (event.which === 13) {
                        var input = jQuery('#input').val();

                        // if input starts with '= ', invoke the calculator function
                        if (/^= /.test(input)) {
                            var expr = input.substring(2);
                            // allowed symbols: + - * /  % () . 0-9 space
                            var regex = /^[+-\\*/\d%() .]*$/;
                            if (regex.test(expr)) {
                                var output = eval(expr);
                                jQuery('#output').text(output);
                            } else {
                                alert('invalid expression');
                            }
                        } else if (/^g /.test(input)) {
                            window.open('https://www.google.com/#q='+input);
                        }
                    }
                });

        </script>

    </body>
